# TTSmate 后续功能待办清单 (v1.1.0 之后)

## 第二阶段：高级音频功能

此阶段的目标是实现次要需求，提供更完整的用户体验。

- [ ] **集成 cpal 音频库**:
  - [ ] 替换 `rodio` 为 `cpal` 以进行更底层的音频控制。
  - [ ] 在 `Cargo.toml` 中添加 `cpal` 依赖。

- [ ] **音频设备选择**:
  - [ ] 在UI中添加一个下拉菜单，允许用户选择物理或虚拟音频输出设备 (例如 VB-CABLE)。
  - [ ] 保存用户选择的设备到配置文件中。

- [ ] **音频混合功能 (核心挑战)**:
  - [ ] 创建 `cpal` 输入流以捕获麦克风数据。
  - [ ] 创建 `cpal` 输出流指向用户选择的设备。
  - [ ] 在输出流的回调中，实时混合麦克风输入和程序生成的TTS音频。
  - [ ] 在UI中添加一个"合并麦克风输出"的开关。

- [ ] **音效板 (Soundboard) 功能**:
  - [ ] 在UI上添加一组按钮用于播放常用音效。
  - [ ] 实现加载 `.wav` 或 `.mp3` 音效文件。
  - [ ] 点击按钮时，将对应的音效数据混入到 `cpal` 输出流中。
  - [ ] (可选) 允许用户自定义音效文件路径。

- [ ] **全局热键绑定 (高级功能)**:
  - [ ] 引入 `global-hotkey` 或类似库。
  - [ ] 允许用户为"生成并播放"和音效板按钮绑定全局热键。
  - [ ] 即使在应用未获取焦点时也能触发相应功能。

## 第三阶段：质量改进和打包

- [ ] **完善错误处理**:
  - [ ] 为所有可能失败的操作提供更友好的UI错误提示。
- [ ] **代码重构和优化**:
  - [ ] 优化性能，特别是音频混合部分。
  - [ ] 清理代码，增加必要的注释。
- [ ] **创建安装包**:
  - [ ] 使用 `NSIS` 或其他工具为 Windows 创建一个安装程序。
  - [ ] 编写构建脚本以自动化打包流程。 